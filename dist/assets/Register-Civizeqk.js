import{u as x,r as l,j as e,F as h,a as p}from"./index-d7UcaRYF.js";import{v as b,a as f,b as v}from"./validation-BNH8MvxE.js";function w(t,s){switch(s.type){case"name":return{...t,name:s.payload};case"email":return{...t,email:s.payload};case"password":return{...t,password:s.payload};default:return t}}async function g(t,s,o,d){const c=await p.post("http://ecnet.website/api/register",{name:t,email:s,password:o},{headers:{"Content-Type":"application/json"},withCredentials:!0});return d(),c}function y(){const t=x(),[s,o]=l.useState(!1),[d,c]=l.useState(!1),[u,m]=l.useState(!1),[a,n]=l.useReducer(w,{name:{value:"",valid:!1,error:null},email:{value:"",valid:!1,error:null},password:{value:"",valid:!1,error:null}});return l.useEffect(()=>{const r=a.name.valid&&a.email.valid&&a.password.valid;u!==r&&m(!!r)},[a]),console.log("register rendered"),e.jsx("div",{className:"min-h-screen bg-black",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute min-h-screen inset-0 overflow-hidden",children:e.jsx("img",{src:"http://ecnet.website/images/login_background.webp",alt:"Background",className:"w-full h-full object-cover object-center"})}),e.jsx("div",{className:"absolute min-h-screen inset-0 bg-black/60 z-10"}),e.jsxs("div",{className:"relative items-center justify-between z-20 flex",children:[e.jsx(h,{}),e.jsx("div",{className:"pr-[1rem]",children:e.jsx("button",{onClick:()=>{t("/signin")},className:"bg-[#ff0000] hover:cursor-pointer select-none transition-colors duration-300 font-bold px-[1rem] py-[0.3rem] rounded-sm hover:bg-[#ff0000d2] text-white",children:"Sign In"})})]}),d?e.jsx("div",{className:"px-8",children:e.jsxs("form",{className:"bg-white/5 relative z-20 backdrop-blur-md p-8 rounded-xl shadow-xl max-w-md w-full mx-auto mt-10 space-y-6 text-left",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Name"}),e.jsx("input",{onBlur:r=>{b(r.currentTarget.value,n)},defaultValue:a.name.value,type:"text",placeholder:"Your Name",className:"w-full transition-colors focus:border-white hover:border-white duration-300 p-3 rounded-md bg-black/40 text-white placeholder-gray-400 border border-white/10 focus:outline-none ring-0]"}),!a.name.valid&&e.jsx("span",{className:"text-red-500",children:a.name.error})]}),e.jsxs("div",{className:"text-white",children:[e.jsx("label",{className:"block text-sm font-bold mb-2",children:"Email Address"}),e.jsx("input",{defaultValue:a.email.value,onBlur:r=>{f(r.currentTarget.value,n)},type:"email",placeholder:"you@domain.com",className:"w-full focus:border-white transition-colors hover:border-white duration-300 p-3 rounded-md bg-black/40 text-white placeholder-gray-400 border border-white/10 focus:outline-none ring-0]"}),!a.email.valid&&e.jsx("span",{className:"text-red-500 p-1",children:a.email.error})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Password"}),e.jsx("input",{onBlur:r=>{v(r.currentTarget.value,n)},defaultValue:a.password.value,type:"password",placeholder:"••••••••",className:"w-full focus:border-white transition-colors hover:border-white duration-300 p-3 rounded-md bg-black/40 text-white placeholder-gray-400 border border-white/10 focus:outline-none ring-0]"}),!a.password.valid&&e.jsx("span",{className:"text-red-500",children:a.password.error})]}),e.jsx("button",{onClick:async r=>{r.preventDefault(),o(!0);const i=await g(a.name.value,a.email.value,a.password.value,()=>{o(!1)});if(i.data.success){t("/signin",{replace:!0});return}n({type:i.data.type,payload:i.data.payload}),console.log(i.data)},disabled:!u,className:`w-full ${u?"bg-[var(--color-primary-start)] hover:bg-[var(--color-button-hover)] transition duration-300":"hover:cursor-not-allowed bg-red-900"} text-white py-3 px-6 rounded-lg font-bold select-none`,children:s?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{className:"w-6 h-6 border-4 border-white border-t-transparent rounded-full animate-spin"})}):"Register"})]})}):e.jsx("div",{className:"z-20 relative translate-y-[20%]",children:e.jsxs("header",{className:"text-center px-6 py-12 max-w-xl mx-auto",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-[#FF004F] to-[#8A2BE2] mb-4",children:"Create Your Streamix Account"}),e.jsx("p",{className:"text-gray-300 mb-8",children:"Join Streamix and get instant access to thousands of movies."}),e.jsx("button",{onClick:()=>c(!0),className:"bg-[#ff0000] hover:cursor-pointer transition-colors duration-300 font-bold px-[1rem] py-[0.5rem] rounded-sm hover:bg-[#ff0000d2] text-white",children:"Get Started"})]})})]})})}export{y as default};
