import{g as k,h as me,r as b,_ as he,j as s}from"./index-d7UcaRYF.js";var z,K;function fe(){if(K)return z;K=1;function r(e){var o=typeof e;return e!=null&&(o=="object"||o=="function")}return z=r,z}var F,Q;function be(){if(Q)return F;Q=1;var r=typeof k=="object"&&k&&k.Object===Object&&k;return F=r,F}var M,Y;function de(){if(Y)return M;Y=1;var r=be(),e=typeof self=="object"&&self&&self.Object===Object&&self,o=r||e||Function("return this")();return M=o,M}var N,Z;function ge(){if(Z)return N;Z=1;var r=de(),e=function(){return r.Date.now()};return N=e,N}var P,ee;function pe(){if(ee)return P;ee=1;var r=/\s/;function e(o){for(var a=o.length;a--&&r.test(o.charAt(a)););return a}return P=e,P}var B,te;function xe(){if(te)return B;te=1;var r=pe(),e=/^\s+/;function o(a){return a&&a.slice(0,r(a)+1).replace(e,"")}return B=o,B}var G,re;function ve(){if(re)return G;re=1;var r=de(),e=r.Symbol;return G=e,G}var H,ne;function ye(){if(ne)return H;ne=1;var r=ve(),e=Object.prototype,o=e.hasOwnProperty,a=e.toString,c=r?r.toStringTag:void 0;function g(f){var l=o.call(f,c),v=f[c];try{f[c]=void 0;var i=!0}catch{}var m=a.call(f);return i&&(l?f[c]=v:delete f[c]),m}return H=g,H}var W,ie;function je(){if(ie)return W;ie=1;var r=Object.prototype,e=r.toString;function o(a){return e.call(a)}return W=o,W}var A,oe;function Te(){if(oe)return A;oe=1;var r=ve(),e=ye(),o=je(),a="[object Null]",c="[object Undefined]",g=r?r.toStringTag:void 0;function f(l){return l==null?l===void 0?c:a:g&&g in Object(l)?e(l):o(l)}return A=f,A}var D,ae;function Se(){if(ae)return D;ae=1;function r(e){return e!=null&&typeof e=="object"}return D=r,D}var $,ue;function _e(){if(ue)return $;ue=1;var r=Te(),e=Se(),o="[object Symbol]";function a(c){return typeof c=="symbol"||e(c)&&r(c)==o}return $=a,$}var U,se;function Ee(){if(se)return U;se=1;var r=xe(),e=fe(),o=_e(),a=NaN,c=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,f=/^0o[0-7]+$/i,l=parseInt;function v(i){if(typeof i=="number")return i;if(o(i))return a;if(e(i)){var m=typeof i.valueOf=="function"?i.valueOf():i;i=e(m)?m+"":m}if(typeof i!="string")return i===0?i:+i;i=r(i);var h=g.test(i);return h||f.test(i)?l(i.slice(2),h?2:8):c.test(i)?a:+i}return U=v,U}var X,ce;function we(){if(ce)return X;ce=1;var r=fe(),e=ge(),o=Ee(),a="Expected a function",c=Math.max,g=Math.min;function f(l,v,i){var m,h,y,j,d,p,_=0,I=!1,E=!1,q=!0;if(typeof l!="function")throw new TypeError(a);v=o(v)||0,r(i)&&(I=!!i.leading,E="maxWait"in i,y=E?c(o(i.maxWait)||0,v):y,q="trailing"in i?!!i.trailing:q);function w(u){var S=m,L=h;return m=h=void 0,_=u,j=l.apply(L,S),j}function t(u){return _=u,d=setTimeout(x,v),I?w(u):j}function n(u){var S=u-p,L=u-_,J=v-S;return E?g(J,y-L):J}function T(u){var S=u-p,L=u-_;return p===void 0||S>=v||S<0||E&&L>=y}function x(){var u=e();if(T(u))return R(u);d=setTimeout(x,n(u))}function R(u){return d=void 0,q&&m?w(u):(m=h=void 0,j)}function O(){d!==void 0&&clearTimeout(d),_=0,m=p=h=d=void 0}function C(){return d===void 0?j:R(e())}function V(){var u=e(),S=T(u);if(m=arguments,h=this,p=u,S){if(d===void 0)return t(p);if(E)return clearTimeout(d),d=setTimeout(x,v),w(p)}return d===void 0&&(d=setTimeout(x,v)),j}return V.cancel=O,V.flush=C,V}return X=f,X}var qe=we();const Re=me(qe),le=r=>{const e=Math.floor(r/60).toString().padStart(2,"0"),o=Math.floor(r%60).toString().padStart(2,"0");return`${e}:${o}`},Ie=({src:r})=>{const e=b.useRef(null),o=b.useRef(null),[a,c]=b.useState(!0),[g,f]=b.useState(0),[l,v]=b.useState(0),[i,m]=b.useState(1),[h,y]=b.useState(!1),[j,d]=b.useState(!0),p=b.useRef(null);b.useEffect(()=>{const t=e.current;if(!t||!r)return;let n,T=!0;(async()=>{const x=(await he(async()=>{const{default:C}=await import("./hls-CPSIE5Ea.js");return{default:C}},[])).default;if(!T)return;n=new x({maxBufferLength:10,maxBufferSize:2e7,backBufferLength:5}),n.loadSource(r),n.attachMedia(t),o.current=n;const R=Re(()=>{n.startLoad(),n.resumeBuffering()},500),O=()=>{n.stopLoad(),n.pauseBuffering(),R()};return t.addEventListener("seeking",O),()=>{n&&n.destroy(),R.cancel(),t.removeEventListener("seeking",O),T=!1}})()},[r]),b.useEffect(()=>{const t=e.current;if(!t)return;const n=()=>{f(t.currentTime),v(t.duration||0),c(!t.paused),m(t.volume)};return t.addEventListener("timeupdate",n),t.addEventListener("play",n),t.addEventListener("pause",n),t.addEventListener("volumechange",n),t.addEventListener("loadedmetadata",n),()=>{t.removeEventListener("timeupdate",n),t.removeEventListener("play",n),t.removeEventListener("pause",n),t.removeEventListener("volumechange",n),t.removeEventListener("loadedmetadata",n)}},[]),b.useEffect(()=>{const t=e.current;if(!t)return;const n=()=>{const T=document.fullscreenElement===t||t.parentElement&&document.fullscreenElement===t.parentElement;y(T)};return document.addEventListener("fullscreenchange",n),()=>{document.removeEventListener("fullscreenchange",n)}},[]);const _=()=>{const t=e.current;t&&(t.paused?t.play():t.pause())},I=t=>{const n=e.current;if(!n)return;const x=t.target.value/100*l;n.currentTime=x,f(x)},E=t=>{const n=e.current;n&&(n.volume=t.target.value)},q=()=>{const t=e.current;t&&(h?(document.exitFullscreen&&document.exitFullscreen(),y(!1)):(t.requestFullscreen&&t.requestFullscreen(),y(!0)))},w=()=>{d(!0),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>d(!1),3e3)};return s.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onMouseMove:w,onClick:w,children:[s.jsx("video",{ref:e,autoPlay:!0,style:{width:"90vw",height:"90vh",backgroundColor:"black"},preload:"auto",tabIndex:-1,controls:!1}),j&&s.jsxs("div",{style:{position:"absolute",bottom:40,left:"50%",transform:"translateX(-50%)",width:"80vw",background:"rgba(20,20,20,0.7)",borderRadius:16,display:"flex",alignItems:"center",padding:"16px 24px",boxShadow:"0 2px 12px rgba(0,0,0,0.18)",gap:16,zIndex:1200,transition:"opacity 0.3s"},children:[s.jsx("button",{onClick:_,style:{background:"none",border:"none",cursor:"pointer",color:"#fff",fontSize:24},"aria-label":a?"Pause":"Play",children:a?s.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",children:[s.jsx("rect",{x:"6",y:"5",width:"4",height:"14",rx:"2",fill:"#fff"}),s.jsx("rect",{x:"14",y:"5",width:"4",height:"14",rx:"2",fill:"#fff"})]}):s.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",children:s.jsx("path",{d:"M8 5v14l11-7z",fill:"#fff"})})}),s.jsx("span",{style:{color:"#fff",fontVariantNumeric:"tabular-nums",minWidth:48},children:le(g)}),s.jsx("input",{type:"range",min:0,max:100,value:l?g/l*100:0,onChange:I,style:{flex:1,accentColor:"#e50914",height:4},"aria-label":"Seek"}),s.jsx("span",{style:{color:"#fff",fontVariantNumeric:"tabular-nums",minWidth:48},children:le(l)}),s.jsx("input",{type:"range",min:0,max:1,step:.01,value:i,onChange:E,style:{width:80,accentColor:"#e50914"},"aria-label":"Volume"}),s.jsx("button",{onClick:q,style:{background:"none",border:"none",cursor:"pointer",color:"#fff",fontSize:24},"aria-label":h?"Exit Fullscreen":"Fullscreen",children:h?s.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",children:s.jsx("path",{d:"M9 9H5V5h4V3H3v6h2V5h4V3zm6 0h4V5h-4V3h6v6h-2V5h-4V3zm0 6h4v4h-4v2h6v-6h-2v4h-4v2zm-6 0H5v4h4v2H3v-6h2v4h4v2z",fill:"#fff"})}):s.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",children:s.jsx("path",{d:"M3 3h6v2H5v4H3V3zm18 0v6h-2V5h-4V3h6zm0 18h-6v-2h4v-4h2v6zm-18 0v-6h2v4h4v2H3z",fill:"#fff"})})})]})]})};export{Ie as default};
