const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HlsPlayer-XWy6KHkf.js","assets/index-d7UcaRYF.js","assets/index-BGQJD6Bh.css","assets/index-Cd4Rqh_2.js","assets/proxy-CMgvdZRE.js"])))=>i.map(i=>d[i]);
import{c as x,r as o,b as g,u as p,a as f,j as t,_ as n}from"./index-d7UcaRYF.js";const b=React.lazy(()=>n(()=>import("./HlsPlayer-XWy6KHkf.js"),__vite__mapDeps([0,1,2]))),{AnimatePresence:w,motion:v}=React.lazy(()=>n(()=>import("./index-Cd4Rqh_2.js"),__vite__mapDeps([3,1,2,4]))),j=()=>{const{id:s}=x(),[i,a]=o.useState(null),[d,c]=o.useState(!0),[u,l]=o.useState(!1),{token:h}=g(),r=p();return o.useEffect(()=>{f.get("http://ecnet.website/api/movies/"+s,{headers:{Authorization:`Bearer ${h}`},withCredentials:!0}).then(e=>{c(!1),e.data.isAuthorized&&(a(e.data.video),setTimeout(()=>l(!0),10))})},[s]),d?null:i?t.jsx(w,{children:u&&t.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:[.4,0,.2,1],opacity:{duration:1.2}},style:{width:"100vw",height:"100vh",position:"fixed",top:0,left:0,background:"rgba(0,0,0,0.96)",zIndex:1e3},children:[t.jsx(b,{src:i}),t.jsx("button",{onClick:()=>r("/"),style:{position:"fixed",top:24,left:24,zIndex:1100,width:48,height:48,borderRadius:"50%",background:"rgba(20,20,20,0.7)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.18)",cursor:"pointer",transition:"background 0.2s, box-shadow 0.2s"},"aria-label":"Back",onMouseOver:e=>e.currentTarget.style.background="rgba(40,40,40,0.85)",onMouseOut:e=>e.currentTarget.style.background="rgba(20,20,20,0.7)",children:t.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"none"}),t.jsx("path",{d:"M15.5 19L8.5 12L15.5 5",stroke:"#fff",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]},"watch")}):t.jsxs("div",{style:{padding:20},children:[t.jsx("h2",{children:"Video not found"}),t.jsx("button",{onClick:()=>r("/"),children:"Go back"})]})};export{j as default};
